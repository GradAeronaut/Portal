-- ============================================================
-- Google OAuth2 Migration
-- Добавление поддержки Google входа
-- ============================================================

-- Добавление поля google_id в таблицу users
ALTER TABLE `users` 
ADD COLUMN `google_id` VARCHAR(255) DEFAULT NULL AFTER `public_id`,
ADD UNIQUE KEY `google_id` (`google_id`);

-- ============================================================
-- Примечания:
-- 1. google_id хранит уникальный ID пользователя из Google
-- 2. Поле может быть NULL для пользователей, зарегистрированных через email
-- 3. Уникальный индекс гарантирует, что один Google аккаунт = один пользователь
-- ============================================================


